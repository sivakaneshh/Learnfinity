{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LearnFinity || Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="{% static 'css/coursestyle.css' %}" />
    <link rel="stylesheet" href="{% static 'css/bot.css' %}" />
  </head>
  <body>
    <header>
      <div class="navbar">
        <div class="logo">
          <h1>Learn<span class="color-danger">Finity</span></h1>
        </div>
        <div class="nav-bar-text">Courses</div>
      </div>
    </header>
    <section>
      <div class="course-container">
        <div class="course-text">
          <h1>Let's start Our Courses</h1>
        </div>

        <!-- Course 1 -->
        <div class="course-1 course">
          <div class="container">
            <div class="course-1-text coursetext">
              
              <div class="course-heading">
                <h1>Introduction to AI</h1>
                <p class="description">Artificial Intelligence (AI) enables machines to mimic human intelligence and perform tasks like problem-solving and decision-making. It powers applications like virtual assistants, recommendation systems, and adaptive learning platforms.</p>
                <div class="exp-points">
                  <p style="font-weight: bold;">Exp Points: 1200</p>

                </div>
              </div>
              <div class="drop-down-btn" data-dropdown="false">
                <i class="fa-solid fa-arrow-down"></i>
              </div>
            </div>
          </div>
          <div class="course-content">
            <div class="first-box box">
              <a href="{% url 'video' %}"><img src="{% static 'image-3.png' %}" alt="img" /></a>
            </div>
            <div class="second-box box">
              <img src="{% static 'image-4.png' %}" alt="img" />
            </div>
            <div class="third-box box">
              <img src="{% static 'image-5.png' %}" alt="img" />
            </div>
          </div>
          <div class="course-level">
            <p class="level">Level-1</p>
            <p class="level">Level-2</p>
            <p class="level">Level-3</p>
          </div>
        </div>

        <!-- Course 2 -->
        <div class="course-2 course">
          <div class="container">
            <div class="course-2-text coursetext">
              
              <div class="course-heading">
                <h1>Basic of Blockchain</h1>
                <p class="description">Blockchain is a decentralized, digital ledger technology that securely records transactions across multiple computers in a way that makes it difficult to alter. It ensures transparency, security, and trust without the need for a central authority, making it popular for cryptocurrencies like Bitcoin.</p>
                <div class="exp-points">
                  <p style="font-weight: bold;">Exp Points: 950</p>
                </div>
              </div>
              <div class="drop-down-btn" data-dropdown="false">
                <i class="fa-solid fa-arrow-down"></i>
              </div>
            </div>
          </div>
          <div class="course-content">
            <div class="first-box box">
              <img src="{% static 'image-6.png' %}" alt="img" />
            </div>
            <div class="second-box box">
              <img src="{% static 'image-7.jpg' %}" alt="img" />
            </div>
            <div class="third-box box">
              <img src="{% static 'image-8.png' %}" alt="img" />
            </div>
          </div>
          <div class="course-level">
            <p class="level">Level-1</p>
            <p class="level">Level-2</p>
            <p class="level">Level-3</p>
          </div>
        </div>

        <!-- Course 3 -->
        <div class="course-3 course">
          <div class="container">
            <div class="course-3-text coursetext">
              
              <div class="course-heading">
                <h1>Cybersecurity</h1>
                <p class="description">Cybersecurity is the practice of protecting systems, networks, and data from digital attacks, theft, and damage. It involves implementing technologies, processes, and practices to defend against unauthorized access, cyberattacks, and data breaches.</p>
                <div class="exp-points">
                  <p style="font-weight: bold;">Exp Points: 1100</p>
                </div>
              </div>
              <div class="drop-down-btn" data-dropdown="false">
                <i class="fa-solid fa-arrow-down"></i>
              </div>
            </div>
          </div>
          <div class="course-content">
            <div class="first-box box">
              <img src="{% static 'image-9.jpg' %}" alt="img" />
            </div>
            <div class="second-box box">
              <img src="{% static 'image-10.jpg' %}" alt="img" />
            </div>
            <div class="third-box box">
              <img src="{% static 'image-11.jpg' %}" alt="img" />
            </div>
          </div>
          <div class="course-level">
            <p class="level">Level-1</p>
            <p class="level">Level-2</p>
            <p class="level">Level-3</p>
          </div>
        </div>

        <!-- Course 4 -->
        <div class="course-4 course">
          <div class="container">
            <div class="course-4-text coursetext">
              <div class="exp-points">
                
              </div>
              <div class="course-heading">
                <h1>Mathematics</h1>
                <p class="description">Mathematics is the study of numbers, quantities, shapes, and patterns, providing a foundational framework for understanding and solving problems in various fields. It encompasses various branches, including algebra, geometry, calculus, and statistics, and is essential for disciplines like science, engineering, and finance.</p>
                <p style="font-weight: bold;">Exp Points: 800</p>
              </div>
              <div class="drop-down-btn" data-dropdown="false">
                
                <i class="fa-solid fa-arrow-down"></i>
                
              </div>
            </div>
          </div>
          <div class="course-content">
            <div class="first-box box">
              <img src="{% static 'image-12.jpg' %}" alt="img" />
            </div>
            <div class="second-box box">
              <img src="{% static 'image-13.jpg' %}" alt="img" />
            </div>
            <div class="third-box box">
              <img src="{% static 'image-14.jpg' %}" alt="img" />
            </div>
          </div>
          <div class="course-level">
            <p class="level">Level-1</p>
            <p class="level">Level-2</p>
            <p class="level">Level-3</p>
          </div>
        </div>
      </div>
    </section>
    
               
       <!-- Chatbot Floating Button -->
       <div class="chat-widget" onclick="toggleChat()">
        <img src="{% static 'l.jpg' %}" alt="Chatbot Icon" id="chat-icon">
      </div>
    
      <!-- Chatbot Container -->
      <div class="chat-container" id="chat-container">
        <div class="chat-header">
          <span>BayMax</span>
          <button onclick="toggleChat()">x</button></right>
        </div>
        <div id="chat-messages" class="chat-messages"></div>
        <div id="loading" class="loading" style="display: none;">...</div>
        <div class="input-area">
          <input type="text" id="chat-input" placeholder="Ask me anything...">
          <button id="send-btn" onclick="sendMessage()">Send</button>
        </div>
      </div>

      
    
      <script>
        // Toggle chat window visibility
        function toggleChat() {
          const chatContainer = document.getElementById("chat-container");
          const chatWidget = document.querySelector(".chat-widget");
    
          if (chatContainer.style.display === "none" || chatContainer.style.display === "") {
            chatContainer.style.display = "flex";  // Show the chatbot UI
            setTimeout(() => {
              chatContainer.style.transform = "scale(1)";  // Smooth animation
            }, 10);
            chatWidget.style.display = "none";  // Hide the widget when chatbot is open
          } else {
            chatContainer.style.transform = "scale(0)";  // Shrink the chatbot UI
            setTimeout(() => {
              chatContainer.style.display = "none";  // Hide the chatbot UI
              chatWidget.style.display = "flex";  // Show the widget again
            }, 300);
          }
        }
    
        // Function to send message and get response from API
        async function sendMessage() {
          const input = document.getElementById("chat-input");
          const messages = document.getElementById("chat-messages");
          const loading = document.getElementById("loading");
          const userMessage = input.value;
    
          if (!userMessage.trim()) return;
    
          // Show loading spinner
          loading.style.display = "block";
    
          // Add user message to chat
          const userMessageDiv = document.createElement("div");
          userMessageDiv.classList.add("message", "user-message");
          userMessageDiv.textContent = userMessage;
          messages.appendChild(userMessageDiv);
    
          input.value = ""; // Clear the input field
          messages.scrollTop = messages.scrollHeight;
    
          // Simulate an API call (replace this with actual API call in production)
          const response = await fetch(`/chat?message=${encodeURIComponent(userMessage)}`);
          const data = await response.json();
    
          // Hide loading spinner
          loading.style.display = "none";
    
          // Display assistant's response
          const assistantMessageDiv = document.createElement("div");
          assistantMessageDiv.classList.add("message", "assistant-message");
          assistantMessageDiv.textContent = data.response || "Sorry, I didn't understand that.";
          messages.appendChild(assistantMessageDiv);
    
          messages.scrollTop = messages.scrollHeight;
        }
    
        // Sample data for chatbot
        async function getResponse(message) {
          // Simulate AI response with predefined replies
          const responses = {
            "hello": "Hi there! How can I help you today?",
            "how are you": "I'm doing great, thank you for asking!",
            "bye": "Goodbye! Have a nice day!",
          };
    
          return responses[message.toLowerCase()] || "I didn't understand that.";
        }
    
        // Example of backend handling
        async function fetchData(message) {
          // Placeholder for backend API call
          return { response: await getResponse(message) };
        }
      </script>
    
    <script>
      const dropDown = document.querySelectorAll('.drop-down-btn')
      dropDown.forEach((el) => {
        el.addEventListener('click', () => {
          const course = el.closest('.course')
          const courseContent = course.querySelector('.course-content')
          const courseLevel = course.querySelector('.course-level')
      
          // Initialize the dropdown if not set
          if (!el.dataset.dropdown) {
            el.dataset.dropdown = 'false' // Set default state if not already set
          }
      
          // Toggle the dropdown state
          if (el.dataset.dropdown === 'false') {
            el.dataset.dropdown = 'true'
            course.classList.add('expanded')
            courseContent.style.display = 'flex'
            courseLevel.style.display = 'flex' // You may want to replace this with a CSS class for better control
          } else {
            el.dataset.dropdown = 'false'
            course.classList.remove('expanded')
            courseContent.style.display = 'none'
            courseLevel.style.display = 'none' // Same as above
          }
        })
      })
      
    </script>
    
    <style>
    
  </body>
</html>
